{% extends "app/base.html" %}

{% block options_content %}
    
    {% if not request.GET.search %}
        <div class="options-bar__sub-categories">
            {% for sub_cat in sub_categories %}
                <p class="sub-categories"> 
                    <img src="static/app/img/picto__moins.png">
                    {{ sub_cat.name }} 
                </p>
            {% endfor %}
        </div>
    {% else %}
        <div class="options-bar__search-info">
            <p> Recherche pour </p>
            <p> {{ request.GET.search }} ({{ projects.count }}) </p> 
        </div>
    {% endif %}
    
{% endblock options_content %}

{% block content %}
<div class="project-list">
    {% for project in projects %}
        <div class="grid">
            <div class="unit one-fifth"></div>
            <div class="project-view unit three-fifths">
                <div class="project-view__logo">
                    <img src="{{ project.image }}">
                </div>
                <div class="project-view__info">
                    <p class="project__title"> 
                        {{ project.title }} 
                    </p>
                    <p class="project__slogan"> 
                        {{ project.slogan }} 
                    </p>
                    <p class="project__description"> 
                        {{ project.description | truncatechars:120 }} 
                    </p>
                    <a class="project-view__url" href="{{ project.url }}"> 
                        {{ project.url }} 
                    </a>
                    <h3 class="project-view__category"> 
                        {{ project.category.name }} 
                    </h3>
                </div>
            </div>
            <div class="unit one-fifth"></div>
        </div>
    {% endfor %}
</div>

{% endblock content %}


